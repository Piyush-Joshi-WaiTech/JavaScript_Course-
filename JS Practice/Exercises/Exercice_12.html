<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Exercise_12</title>
  </head>
  <body>
    <p>Using .getElementById</p>
    <!--12a-->
    <!-- Create a variable called 'add' and save a function inside. This
         function will console.log(2 + 3); Run the function twice. 
    -->

    <script>
      let add = function () {
        console.log(2 + 3);
      };
      add();
      add();
    </script>

    <!--12b-->
    <!-- Continuing from exercise 12a, create a function runTwice(fun) that
         takes a function (as a parameter) and runs it twice.
            • runTwice(function() { console.log('12b'); }); => console.log('12b') twice
            • runTwice(add); => console.log(5) twice 
    -->

    <script>
      let runTwice = function (fun) {
        fun();
        fun();
      };
      runTwice(function () {
        console.log("12b");
      });
      runTwice(add);
    </script>

    <!--12c-->
    <!-- Create the button below. When clicking the button, after 1 second,
         the text inside the button changes to 'Finished!'.
         (Hint: use setTimeout() and the DOM) 
    -->

    <button id="btn">Click me!</button>
    <script>
      let btn = document.getElementById("btn");
      btn.addEventListener("click", function () {
        setTimeout(function () {
          btn.innerText = "Finished!";
        }, 1000);
      });
    </script>

    <!--12d-->
    <!-- Continuing from exercise 12c, modify the button so that when we click it,
         the text immediately changes to 'Loading...', and then after 1 second, it
         changes to 'Finished!'. 
    -->

    <button id="btn2">Click me!</button>
    <script>
      let btn2 = document.getElementById("btn2");
      btn2.addEventListener("click", function () {
        btn2.innerText = "Loading...";
        setTimeout(function () {
          btn2.innerText = "Finished!";
        }, 1000);
      });
    </script>

    <!--12e-->
    <!-- Create the 'Add to cart' button below. When clicking this button, 
         display the message 'Added' below the button. Then, after 2 seconds, 
         remove the message.
    -->

    <button id="btn3">Add to cart</button>
    <p id="message"></p>
    <script>
      let btn3 = document.getElementById("btn3");
      let message = document.getElementById("message");
      btn3.addEventListener("click", function () {
        message.innerText = "Added";
        setTimeout(function () {
          message.innerText = "";
        }, 2000);
      });
    </script>

    <!--12f-->
    <!-- Continuing from 12e, if we click the button, wait 1 to 1.5 seconds, and then click the button again, notice that 
         the second time, the message disappears very quickly (because the first setTimeout is still running and will 
         make the message disappear very soon).
          • Modify the code so when we click the button, it "refreshes" the 2 second wait time 
            (waits for 2 seconds again and removes message).
          • Hint: you can cancel the previous setTimeout using clear Timeout() 
    -->

    <button id="btn4">Add to cart</button>
    <p id="message2"></p>
    <script>
      let btn4 = document.getElementById("btn4");
      let message2 = document.getElementById("message2");
      let timeoutId;
      btn4.addEventListener("click", function () {
        message2.innerText = "Added";
        clearTimeout(timeoutId);
        timeoutId = setTimeout(function () {
          message2.innerText = "";
        }, 2000);
      });
    </script>

    <p>Using Arrow Function</p>
    <!--12j-->
    <!-- Create an arrow function called 'multiply' that takes 2 numbers,
       multiplies them together, and returns the result.
        • multiply(2, 3) => 6
        • multiply(7, 10) => 70 -->

    <script>
      const multiply = (a, b) => a * b;
      console.log(multiply(2, 3));
      console.log(multiply(7, 10));
    </script>

    <!-- 12k-->
    <!-- Continuing from exercise 12j, write the arrow function on one line (if
         you already did this, skip this exercise).  
    -->

    <script>
      const multiply1 = (a, b) => a * b;
      console.log(multiply1(2, 3));
      console.log(multiply1(7, 10));
    </script>

    <!-- 12L-->
    <!-- Create a function countPositive(nums) that takes an array of
      numbers and returns how many numbers in the array are greater
      than 0. Create this function using .forEach() instead of a loop.
        • countPositive([1, -3, 5]) => 2
        • countPositive([-2, 3, -5, 7, 10]) => 3  
    -->

    <script>
      const countPositive = (nums1) => {
        let count = 0;
        nums1.forEach((num) => {
          if (num > 0) {
            count++;
          }
        });
        return count;
      };
      console.log(countPositive([1, -3, 5])); // 2
      console.log(countPositive([-2, 3, -5, 7, 10])); // 3
    </script>

    <!--12m-->
    <!-- Create a function addNum(array, num) that takes an array of numbers and
    returns an array where each number is increased by 'num'. Create this
    function using .map() instead of a loop. 
      • add num2([1,2,3],2) => [3,4,5]
      • add num2([-2,-1,0,99],2) => [0,1,2,101]
    Bonus: try to use the one-line shortcut in your solution.  
    -->

    <script>
      const addNum = (array, num) => array.map((n) => n + num);
      console.log(addNum([1, 2, 3], 2)); // [3, 4, 5]
      console.log(addNum([-2, -1, 0, 99], 2)); // [0, 1, 2, 101]
    </script>

    <!-- 12n-->
    <!-- Create a function removeEgg(foods) that takes an array of strings and
    returns an array where the string 'egg' is removed. Create this function
    using .filter() instead of a loop. 
      • removeEgg(['egg','apple','egg','egg','ham']) = >['apple',ham']  
    -->

    <script>
      const removeEgg = (foods) => foods.filter((food) => food !== "egg");
      console.log(removeEgg(["egg", "apple", "egg", "egg", "ham"])); // ['apple', 'ham']
    </script>

    <!--12o-->
    <!-- Update exercise 12n to only remove the first 2 eggs from the array. 
         Again, use .filter() instead of a loop. 
          •removeEgg1[('egg, 'apple', 'egg', 'egg', 'ham']) => ['apple', 'egg', 'ham'] 
    -->

    <script>
      const removeEgg1 = (foods) => {
        let eggCount = 0;
        return foods.filter((food) => {
          if (food === "egg" && eggCount < 2) {
            eggCount++;
            return false;
          }
          return true;
        });
      };
      console.log(removeEgg1(["egg", "apple", "egg", "egg", "ham"])); // ['apple', 'egg', 'ham']
    </script>

    <!--12p-->
    <!-- Go back to the earlier exercises in lesson 12 (12c - 12i) and switch the
       code to use arrow functions. (When passing a function into another function,
       use arrow functions. Otherwise, you can use either syntax.)  
    -->

    <!--12c Arrow Functions-->
    <button id="btn12">Click me!</button>
    <script>
      let btn12 = document.getElementById("btn12");
      btn12.addEventListener("click", () => {
        setTimeout(() => {
          btn12.innerText = "Finished!";
        }, 1000);
      });
    </script>

    <!--12i Arrow Functions-->
    <button id="btn13">Click me!</button>
    <script>
      let btn13 = document.getElementById("btn13");
      btn13.addEventListener("click", () => {
        btn13.innerText = "Loading...";
        setTimeout(() => {
          btn13.innerText = "Finished!";
        }, 1000);
      });
    </script>

    <!--12e-->
    <button id="btn14">Add to cart</button>
    <p id="message"></p>
    <script>
      let btn14 = document.getElementById("btn14");
      let message1 = document.getElementById("message1");
      btn14.addEventListener("click", () => {
        message.innerText = "Added";
        setTimeout(() => {
          message.innerText = "";
        }, 2000);
      });
    </script>

    <!--12f-->
    <button id="btn15">Add to cart</button>
    <p id="message2"></p>
    <script>
      let btn15 = document.getElementById("btn15");
      let message3 = document.getElementById("message3");
      let timeoutId1;
      btn15.addEventListener("click", () => {
        message2.innerText = "Added";
        clearTimeout(timeoutId1);
        timeoutId = setTimeout(() => {
          message2.innerText = "";
        }, 2000);
      });
    </script>

    <!--12q-->
    <!-- Go back to the earlier exercises in lesson 12 (12c - 12i) and instead of using
         onclick="...", switch the code to use .addEventListener('click',...)
    -->

    <p>Using .addEventListener</p>
    <!--12c Arrow Functions with addEventListener-->
    <button id="btn20">Click me!</button>
    <script>
      let btn20 = document.getElementById("btn20");
      btn20.addEventListener("click", () => {
        setTimeout(() => {
          btn20.innerText = "Finished!";
        }, 1000);
      });
    </script>

    <!--12d Arrow Functions with addEventListener-->
    <button id="btn21">Click me!</button>
    <script>
      let btn21 = document.getElementById("btn21");
      btn21.addEventListener("click", () => {
        btn21.innerText = "Loading...";
        setTimeout(() => {
          btn21.innerText = "Finished!";
        }, 1000);
      });
    </script>

    <!--12e Arrow Functions with addEventListener-->
    <button id="btn22">Add to cart</button>
    <p id="message12"></p>
    <script>
      let btn22 = document.getElementById("btn22");
      let message12 = document.getElementById("message12");
      btn22.addEventListener("click", () => {
        message12.innerText = "Added";
        setTimeout(() => {
          message12.innerText = "";
        }, 2000);
      });
    </script>

    <!--12f Arrow Functions with addEventListener-->
    <button id="btn23">Add to cart</button>
    <p id="message23"></p>
    <script>
      let btn23 = document.getElementById("btn23");
      let message23 = document.getElementById("message23");
      let timeoutId23;
      btn23.addEventListener("click", () => {
        message23.innerText = "Added";
        clearTimeout(timeoutId);
        timeoutId = setTimeout(() => {
          message23.innerText = "";
        }, 2000);
      });
    </script>
  </body>
</html>
